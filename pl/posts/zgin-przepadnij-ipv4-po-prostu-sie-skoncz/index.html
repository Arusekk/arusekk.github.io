<!DOCTYPE html>
<html lang="pl" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Zgiń, przepadnij, IPv4, po prostu się skończ!!!1! | Blog Aruskka</title>
<meta name="keywords" content="">
<meta name="description" content="IPv4 jest przestarzałe i nie ma przyszłości.  Po prostu to zrozum.  IPv6 jest jedynym rozwiązaniem.">
<meta name="author" content="">
<link rel="canonical" href="/pl/posts/zgin-przepadnij-ipv4-po-prostu-sie-skoncz/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="/posts/die-ipv4-just-die-already/">
<link rel="alternate" hreflang="pl" href="/pl/posts/zgin-przepadnij-ipv4-po-prostu-sie-skoncz/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Zgiń, przepadnij, IPv4, po prostu się skończ!!!1!" />
<meta property="og:description" content="IPv4 jest przestarzałe i nie ma przyszłości.  Po prostu to zrozum.  IPv6 jest jedynym rozwiązaniem." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/pl/posts/zgin-przepadnij-ipv4-po-prostu-sie-skoncz/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-01-10T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Zgiń, przepadnij, IPv4, po prostu się skończ!!!1!"/>
<meta name="twitter:description" content="IPv4 jest przestarzałe i nie ma przyszłości.  Po prostu to zrozum.  IPv6 jest jedynym rozwiązaniem."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/pl/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Zgiń, przepadnij, IPv4, po prostu się skończ!!!1!",
      "item": "/pl/posts/zgin-przepadnij-ipv4-po-prostu-sie-skoncz/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Zgiń, przepadnij, IPv4, po prostu się skończ!!!1!",
  "name": "Zgiń, przepadnij, IPv4, po prostu się skończ!!!1!",
  "description": "IPv4 jest przestarzałe i nie ma przyszłości.  Po prostu to zrozum.  IPv6 jest jedynym rozwiązaniem.",
  "keywords": [
    
  ],
  "articleBody": "IPv4 zostało wymyślone w latach osiemdziesiątych. IPv6 pojawiło się zaraz w latach dziewiędziesiątych, dokładnie po czternastu latach praktycznego stosowania IPv4.\nMinęło prawie 30 lat od tamtego czasu, i nadal tkwimy w bajorze IPv4.\nUtknęliśmy? Głównym problemem z IPv4 jest jego 32-bitowe adresowanie. Ogranicza internet do 4 miliardów prawdziwych uczestników. (w praktyce jeszcze mniej, z powodu zarezerwowanych zakresów adresowych, adresów rozgłoszeniowych, masek i tak dalej): mniej niż połowa populacji świata! Wszystkie jego ograniczenia wynikają z tego jednego problemu.\nAle IPv4 jest prostsze! Krótkie adresy Noż użyj nareszcie DNS/rDNS!\nOczywiście, że łatwiej zapamiętać 1.1.1.1 niż 2606:4700:4700::1111. Ale można też zapamiętać one.one.one.one.\nCzy jest łatwiej zapamiętać 198.41.0.4 niż 2001:503:ba3e::2:30? Możliwe. Ale czy nie jest jeszcze łatwiej zapamiętać a.root-servers.net?\nCzy łatwiej zapamiętać 77.254.234.1 niż 2a02:a317:e13d:a780:21f:3bff:fe8c:49c3? Oczywiście, ale po prostu trzeba zapomnieć oba i nadać im nazwy. Co powiesz na arusekk.pl, nieco bardziej chwytliwe, co nie?\nDłuższe adresy są nieuniknione jeśli chcemy numerycznie zaadresować każdy komputer na świecie.\nNAT (Network address translation, tłumaczenie adresów sieciowych) Najoczywistszym sposobem poradzenia się z kurczącą się pulą adresów IPv4 było jak się okazuje wynalezienie poplątanej warstwy tłumaczenia, która bruździ we wszystkich istniejących znanych protokołach wyższych warstw, gdzie ruter kłamie całej maszynie w podsieci, że dostaje globalnie jednoznaczny adres (dając jej adres ‘prywatny’), i wtedy przechwytuje cały ruch wychodzący i przeprowadza ciągły atak MITM (man-in-the-middle) przeciwko całej podsieci, kłamie całej sieci WAN (wide area network), że jest jedyną stroną wykonującą te wszystkie żądania i otrzymującą odpowiedzi, w efekcie łamiąc zasadę ‘Po prostu dostarcz te bity, głupcze!’.\nWięc nadal twierdzisz, że IPv4 jest prostsze? To co powiesz na ALG (application-level gateways)?\nOtóż zaimplementowanie „przezroczystego” NATu poprawnie wymaga nie tylko przepisania adresów IP. Nie tylko przepisania identyfikatorów pakietów i portów TCP/UDP. Wymaga również (w niektórych przypadkach) przechwycenia całego strumienia TCP, i podmieniania tekstowych wystąpień „wewnętrznego” adresu IP na „zewnętrzny”; SIP, IRC i FTP są dobrymi przykładami protokołów, które wysyłają niektóre adresy i porty w treści połączenia. (Tymczasem w IPv6 każdy adres jest po prostu globalnie trasowalny: nie potrzeba żadnych dziwacznych rozgraniczeń.)\nCGNAT (carrier-grade NAT) No… ten bydlak to ogromny przedłużacz agonii. I nie podoba mi się. Wyobraź sobie, że jesteś wielkim ISP (dostawcą internetu) i masz do wykorzystania 512 addresów. Używasz 256 dla swoich 256 komputerów a pozostałe 256 traktujesz jako zasób zamortyzowany. Teraz każde połączenie twojego klienta może dostać totalnie inne IP, bo ciesz się. Jeśli twoim klientom nie przeszkadza bycie za NATem, albo masz w głębokim poważaniu tych, którym to jednak przeszkadza, no to hulaj dusza.\nSTUN / TURN NAT blokuje innowacje. Oto dlaczego nowe protokoły warstwy czwartej i ulepszenia protokołów takie jak MPTCP (multipath TCP) właściwie stoją w miejscu; status quo NATów wymusza na nas używania wyłącznie istniejących rozwiązań technicznych i budowanie frankensteinów takich jak websockets: warstwa transportowa w warstwie aplikacji, dla upewnienia się, że nic jej nie poturbuje.\nSTUN (różne rozwinięcia, T jak traversal, N jak NAT) jest metodą na „przebijanie NATu” (co nie istnieje w świecie IPv6, nie ma żadnej potrzeby przebijania czegokolwiek, po prostu poznajesz adres, na który mają dotrzeć twoje pakiety, i wtedy po prostu wysyłasz pakiet na parszywy adres!): jeśli dwa komputery za NATami chcą się porozumieć, muszą odstawić jakieś wybijanie dziur w firewallu (firewall hole punching) (koncepcja nieistniejąca w pięknym świecie IPv6) aby nawiązać połączenie.\nCzasem ten chocholi taniec uniemożliwia jakiś gorliwy NAT oszczędzający zasoby (zwany symetrycznym NATem: najwzniońlejszym wytworzem ludzkiej niekompetencji), więc jedyną pozostałą opcją jest przepychanie wszystkiego przez jakiś serwer strony trzeciej. I to się nazywa TURN (znowy różne rozwinięcia, R na relay, N for NAT), i jest wybitnym marnotrawstwem zasobów.\nAle IPv4 jest bezpieczniejsze! Wykrywalność Wysłanie po pakiecie do każdego osiągalnego adresu IPv4 zajmuje jedynie parę godzin, jeśli nadawca ma jakieś przyzwoite łącze. Jeśli serwujesz cokolwiek pod swoim adresem IPv4 (np. serwer SSH), będzie nieustannie sondowany przez losowe botnety i crawlery (pełzacze?), i to jest pewne.\nZakres prywatny też jest malutki. Dokładnie dlatego ataki DNS rebinding jest tak łatwo przeprowadzić i dlatego wiele ruterów domowych tak usilnie próbuje im zapobiec (kolejny raz łamiąc przestrzeganie standardów).\nIterowanie się po samej tylko jednej podsieci /64 w IPv6 zajęłoby 500000+ lat. Nie ma najmniejszej opcji, żeby ktoś zgadnął twój adres, jeśli jego końcówka jest losowa. Trzeba go znać: koniec z przypadkowymi sondami, zostają tylko wycelowane. Jeśli ktoś celuje w „kogokolwiek”, masz dużo mniejszą szansę zostać przypadkiem tym kimś kolwiek.\nAnonimowość Chowanie się za jednym IP (v4) serwera VPN w niczym nie przewyższa używania losowego adresu z jednej sieci /64 serwera VPN. Po prostu zmieniaj sieć i adres, albo używaj paru adresów na raz (niewybaczalne marnotrawstwo w przestarzałym IPv4) i nadal bądź globalnie trasowalny.\nCóż, jeśli chcesz prawdziwej anonimowości, i tak lepiej użyj sobie czegoś typu Tor.\nZapora sieciowa (firewall) NAT jest z natury firewallem, bo ktoś z zewnątrz nie ma żadnego sposobu dowiedzenia się, z jakim „adresem wewnętrznym” rozmawia. A nawet gdyby wiedział, nie ma żadnego sposobu wskazania ruterowi, by tam dostarczył pakiet. Chyba że jednak ma. Tak więc NAT nie jest w niczym lepszy niż zachowawcza zapora śledząca połączenia.\nI właśnie to mnie najbardziej frustruje. Po prostu chcę mieć parę serwerów w mojej sieci. To by także pomogło ogólnemu bezpieczeństwu, na przykład gdyby adres rutera w sieci był globalnie trasowalny, mógłby dostać normalny certyfikat HTTPS.\nAle IPv4 jest szerzej wspierany! Już nie. Parę firm Big Tech przenosi się na farmy serwerowe używające wyłącznie IPv6.\nAle IPv4 jest przetestowane w boju! Tak, jest, i zostało uznane za gorsze i podrzędne względem IPv6, które jest równie dobrze przetestowane w boju.\nAle dostawcy internetu bardziej lubią IPv4! Nie, nie lubią. Było dla nich ciągłym wrzodem nawet 8 lat temu.\nAle mamy nadal mnóstwo czasu zanim IPv4 stanie się bezużyteczne! Tak i nie. Wprowadzenie NATów uczyniło IPv4 prawie całkiem bezużytecznym do dowolnego „zaawansowanego” użycia, to znaczy gdy ktokolwiek za NATem chciał zrobić cokolwiek poza przeglądaniem stron WWW, więc i już jest bezużyteczne.\nAle to tylko kwestia czasu, kiedy rynkowa cena dzierżawy adresu IPv4 przekroczy wartość najęcia ziemniaczanego VPSu u typowego dostawcy hostingu. Klienci hostingów zaczną najmować hosty chmurowe, które same są za NATem, i przez to tak samo nieosiągalne jak każdy inny niedoszły serwer w sieci konsumenckiej, co ekonomicznie pchnie ich do użycia IPv6, tworząc strony dostępne wyłącznie po IPv6.\nTo zapotrzebowanie na dostęp do IPv6 zacznie pchać tych leniwych przestarzałych dostawców, by wreszcie przyjęli przyszłość.\nPozwolenie IPv4 i IPv6 współistnieć było jedyną szansą dostawców, by wprowadzili wsparcie dla IPv6 bez ingerowania w jakikolwiek sposób w IPv4, które już mieli. Aby pozwolić beznadziejnym, bez końca rozsnącym stosom sztuczek i oszustw paść wraz z odchodzącym IPv4, tylko wciąż drożejącym w porównaniu z szybkim, tanim, czystym i oczywistym IPv6. Zrób staremu dobremu IPv4 przysługę i przyznaj, że jest już zwyczajnie przestarzałe i nieaktualne; albo jeszcze lepiej, zapytaj dział sprzedaży swojego dostawcy o IPv6 i że rozważasz rozwiązanie umowy z powodu jego braku. Razem możemy już teraz tworzyć przyszłość.\n",
  "wordCount" : "1120",
  "inLanguage": "pl",
  "datePublished": "2022-01-10T00:00:00Z",
  "dateModified": "2022-01-10T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/pl/posts/zgin-przepadnij-ipv4-po-prostu-sie-skoncz/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Blog Aruskka",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/pl/" accesskey="h" title="Blog Aruskka (Alt + H)">Blog Aruskka</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="/" title="🇬🇧 EN"
                            aria-label=":flag_gb: EN">🇬🇧 EN</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="/pl/" title="Wpisy">
                    <span>Wpisy</span>
                </a>
            </li>
            <li>
                <a href="/pl/o-mnie/" title="O mnie">
                    <span>O mnie</span>
                </a>
            </li>
            <li>
                <a href="/pl/kontakt/" title="Kontakt">
                    <span>Kontakt</span>
                </a>
            </li>
            <li>
                <a href="/pl/posts/index.xml" title="Kanał">
                    <span>Kanał</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Zgiń, przepadnij, IPv4, po prostu się skończ!!!1!
    </h1>
    <div class="post-description">
      IPv4 jest przestarzałe i nie ma przyszłości.  Po prostu to zrozum.  IPv6 jest jedynym rozwiązaniem.
    </div>
    <div class="post-meta"><span title='2022-01-10 00:00:00 +0000 UTC'>10 stycznia 2022</span>&nbsp;|&nbsp;Tłumaczenia:
<ul class="i18n_list">
    <li>
        <a href="/posts/die-ipv4-just-die-already/">🇬🇧 EN</a>
    </li>
</ul>

</div>
  </header> 
  <div class="post-content"><p>IPv4 zostało wymyślone w latach <a href="https://datatracker.ietf.org/doc/html/rfc791">osiemdziesiątych</a>.
IPv6 pojawiło się zaraz w latach <a href="https://datatracker.ietf.org/doc/html/rfc1883">dziewiędziesiątych</a>,
dokładnie po czternastu latach praktycznego stosowania IPv4.</p>
<p>Minęło prawie 30 lat od tamtego czasu,
i nadal tkwimy w bajorze IPv4.</p>
<h1 id="utknęliśmy">Utknęliśmy?<a hidden class="anchor" aria-hidden="true" href="#utknęliśmy">#</a></h1>
<p>Głównym problemem z IPv4 jest jego 32-bitowe adresowanie.
Ogranicza internet do 4 miliardów prawdziwych uczestników.
(w praktyce jeszcze mniej,
z powodu zarezerwowanych zakresów adresowych,
adresów rozgłoszeniowych, masek i tak dalej):
mniej niż połowa populacji świata!
Wszystkie jego ograniczenia wynikają z tego jednego problemu.</p>
<h1 id="ale-ipv4-jest-prostsze">Ale IPv4 jest prostsze!<a hidden class="anchor" aria-hidden="true" href="#ale-ipv4-jest-prostsze">#</a></h1>
<h2 id="krótkie-adresy">Krótkie adresy<a hidden class="anchor" aria-hidden="true" href="#krótkie-adresy">#</a></h2>
<p>Noż użyj nareszcie DNS/rDNS!</p>
<p>Oczywiście, że łatwiej zapamiętać <code>1.1.1.1</code> niż <code>2606:4700:4700::1111</code>.
Ale można też zapamiętać <a href="https://one.one.one.one">one.one.one.one</a>.</p>
<p>Czy jest łatwiej zapamiętać <code>198.41.0.4</code> niż <code>2001:503:ba3e::2:30</code>?
Możliwe.  Ale czy nie jest jeszcze łatwiej zapamiętać <code>a.root-servers.net</code>?</p>
<p>Czy łatwiej zapamiętać <code>77.254.234.1</code> niż <code>2a02:a317:e13d:a780:21f:3bff:fe8c:49c3</code>?
Oczywiście, ale po prostu trzeba zapomnieć oba i nadać im nazwy.
Co powiesz na <code>arusekk.pl</code>, nieco bardziej chwytliwe, co nie?</p>
<p>Dłuższe adresy są nieuniknione jeśli chcemy numerycznie zaadresować
każdy komputer na świecie.</p>
<h2 id="nat-network-address-translation-tłumaczenie-adresów-sieciowych">NAT (<em>Network address translation</em>, tłumaczenie adresów sieciowych)<a hidden class="anchor" aria-hidden="true" href="#nat-network-address-translation-tłumaczenie-adresów-sieciowych">#</a></h2>
<p>Najoczywistszym sposobem poradzenia się z kurczącą się pulą adresów IPv4 było
jak się okazuje wynalezienie poplątanej warstwy tłumaczenia,
która bruździ we wszystkich istniejących znanych protokołach wyższych warstw,
gdzie ruter kłamie całej maszynie w podsieci, że dostaje globalnie jednoznaczny adres
(dając jej adres &lsquo;prywatny&rsquo;),
i wtedy przechwytuje cały ruch wychodzący i przeprowadza ciągły atak MITM (<em>man-in-the-middle</em>)
przeciwko całej podsieci,
kłamie całej sieci WAN (<em>wide area network</em>),
że jest jedyną stroną wykonującą te wszystkie żądania i otrzymującą odpowiedzi,
w efekcie łamiąc zasadę <a href="https://isen.com/stupid.html">&lsquo;Po prostu dostarcz te bity, głupcze!&rsquo;</a>.</p>
<p>Więc nadal twierdzisz, że IPv4 jest prostsze?  To co powiesz na ALG (<em>application-level gateways</em>)?</p>
<p>Otóż zaimplementowanie „przezroczystego” NATu poprawnie wymaga nie tylko przepisania adresów IP.
Nie tylko przepisania identyfikatorów pakietów i portów TCP/UDP.
Wymaga również (w niektórych przypadkach) przechwycenia całego strumienia TCP,
i podmieniania tekstowych wystąpień „wewnętrznego” adresu IP na „zewnętrzny”;
SIP, IRC i FTP są dobrymi przykładami protokołów, które wysyłają niektóre adresy
i porty w treści połączenia.
(Tymczasem w IPv6 każdy adres jest po prostu globalnie trasowalny:
nie potrzeba żadnych dziwacznych rozgraniczeń.)</p>
<h3 id="cgnat-carrier-grade-nat">CGNAT (<em>carrier-grade NAT</em>)<a hidden class="anchor" aria-hidden="true" href="#cgnat-carrier-grade-nat">#</a></h3>
<p>No&hellip; ten bydlak to ogromny przedłużacz agonii.  I nie podoba mi się.
Wyobraź sobie, że jesteś wielkim ISP (dostawcą internetu) i masz do wykorzystania 512 addresów.
Używasz 256 dla swoich 256 komputerów
a pozostałe 256 traktujesz jako zasób zamortyzowany.
Teraz każde połączenie twojego klienta może dostać totalnie inne IP,
bo ciesz się.
Jeśli twoim klientom nie przeszkadza bycie za NATem,
albo masz w głębokim poważaniu tych, którym to jednak przeszkadza,
no to hulaj dusza.</p>
<h3 id="stun--turn">STUN / TURN<a hidden class="anchor" aria-hidden="true" href="#stun--turn">#</a></h3>
<p>NAT blokuje innowacje.  Oto dlaczego nowe protokoły warstwy czwartej
i ulepszenia protokołów takie jak MPTCP (<em>multipath TCP</em>) właściwie stoją w miejscu;
<em>status quo</em> NATów wymusza na nas używania wyłącznie istniejących rozwiązań technicznych
i budowanie frankensteinów takich jak <em>websockets</em>:
warstwa transportowa w warstwie aplikacji,
dla upewnienia się, że nic jej nie poturbuje.</p>
<p>STUN (różne rozwinięcia, T jak <em>traversal</em>, N jak NAT)
jest metodą na „przebijanie NATu”
(co nie istnieje w świecie IPv6, nie ma żadnej potrzeby przebijania czegokolwiek,
po prostu poznajesz adres, na który mają dotrzeć twoje pakiety,
i wtedy po prostu wysyłasz pakiet na parszywy adres!):
jeśli dwa komputery za NATami chcą się porozumieć,
muszą odstawić jakieś wybijanie dziur w firewallu (<em>firewall hole punching</em>)
(koncepcja nieistniejąca w pięknym świecie IPv6)
aby nawiązać połączenie.</p>
<p>Czasem ten chocholi taniec uniemożliwia
jakiś gorliwy NAT oszczędzający zasoby
(zwany symetrycznym NATem: najwzniońlejszym wytworzem ludzkiej niekompetencji),
więc jedyną pozostałą opcją jest przepychanie wszystkiego
przez jakiś serwer strony trzeciej.
I to się nazywa TURN
(znowy różne rozwinięcia, R na <em>relay</em>, N for NAT),
i jest wybitnym marnotrawstwem zasobów.</p>
<h1 id="ale-ipv4-jest-bezpieczniejsze">Ale IPv4 jest bezpieczniejsze!<a hidden class="anchor" aria-hidden="true" href="#ale-ipv4-jest-bezpieczniejsze">#</a></h1>
<h2 id="wykrywalność">Wykrywalność<a hidden class="anchor" aria-hidden="true" href="#wykrywalność">#</a></h2>
<p>Wysłanie po pakiecie do każdego osiągalnego adresu IPv4 zajmuje jedynie
parę godzin, jeśli nadawca ma jakieś przyzwoite łącze.
Jeśli serwujesz cokolwiek pod swoim adresem IPv4 (np. serwer SSH),
będzie nieustannie sondowany przez losowe botnety i crawlery (pełzacze?),
i to jest pewne.</p>
<p>Zakres prywatny też jest malutki.
Dokładnie dlatego <a href="https://en.wikipedia.org/wiki/DNS_rebinding">ataki <em>DNS rebinding</em></a> jest tak łatwo przeprowadzić
i dlatego wiele ruterów domowych tak usilnie próbuje im zapobiec
(kolejny raz łamiąc przestrzeganie standardów).</p>
<p>Iterowanie się po samej tylko jednej <strong>podsieci</strong> /64 w IPv6 zajęłoby 500000+ lat.
Nie ma najmniejszej opcji, żeby ktoś zgadnął twój adres, jeśli jego końcówka jest losowa.
Trzeba go znać: koniec z przypadkowymi sondami, zostają tylko wycelowane.
Jeśli ktoś celuje w „kogokolwiek”,
masz dużo mniejszą szansę zostać przypadkiem tym kimś kolwiek.</p>
<h2 id="anonimowość">Anonimowość<a hidden class="anchor" aria-hidden="true" href="#anonimowość">#</a></h2>
<p>Chowanie się za jednym IP (v4) serwera VPN w niczym nie przewyższa
używania losowego adresu z jednej sieci /64 serwera VPN.
Po prostu zmieniaj sieć i adres, albo używaj paru adresów na raz
(niewybaczalne marnotrawstwo w przestarzałym IPv4) i nadal bądź globalnie trasowalny.</p>
<p>Cóż, jeśli chcesz prawdziwej anonimowości,
i tak lepiej użyj sobie czegoś typu <a href="https://www.torproject.org/">Tor</a>.</p>
<h2 id="zapora-sieciowa-firewall">Zapora sieciowa (<em>firewall</em>)<a hidden class="anchor" aria-hidden="true" href="#zapora-sieciowa-firewall">#</a></h2>
<p>NAT jest z natury firewallem,
bo ktoś z zewnątrz nie ma żadnego sposobu dowiedzenia się,
z jakim „adresem wewnętrznym” rozmawia.
A nawet gdyby wiedział, nie ma żadnego sposobu wskazania ruterowi, by tam dostarczył pakiet.
<a href="https://samy.pl/slipstream/">Chyba że jednak ma.</a>
Tak więc NAT nie jest w niczym lepszy niż zachowawcza zapora śledząca połączenia.</p>
<p>I właśnie to mnie najbardziej frustruje.
Po prostu chcę mieć parę serwerów w mojej sieci.
To by także pomogło ogólnemu bezpieczeństwu,
na przykład gdyby adres rutera w sieci był globalnie trasowalny,
mógłby <a href="https://emilymstark.com/2021/12/24/when-a-web-pki-certificate-wont-cut-it.html">dostać normalny certyfikat HTTPS</a>.</p>
<h1 id="ale-ipv4-jest-szerzej-wspierany">Ale IPv4 jest szerzej wspierany!<a hidden class="anchor" aria-hidden="true" href="#ale-ipv4-jest-szerzej-wspierany">#</a></h1>
<p>Już nie.
Parę firm Big Tech przenosi się na <a href="https://ungleich.ch/en-us/cms/blog/2019/01/09/die-ipv4-die/">farmy serwerowe używające wyłącznie IPv6</a>.</p>
<h1 id="ale-ipv4-jest-przetestowane-w-boju">Ale IPv4 jest przetestowane w boju!<a hidden class="anchor" aria-hidden="true" href="#ale-ipv4-jest-przetestowane-w-boju">#</a></h1>
<p>Tak, jest, i zostało uznane za gorsze i podrzędne względem IPv6,
które jest równie dobrze przetestowane w boju.</p>
<h1 id="ale-dostawcy-internetu-bardziej-lubią-ipv4">Ale dostawcy internetu bardziej lubią IPv4!<a hidden class="anchor" aria-hidden="true" href="#ale-dostawcy-internetu-bardziej-lubią-ipv4">#</a></h1>
<p>Nie, nie lubią.
Było dla nich ciągłym wrzodem <a href="https://www.tecmint.com/ipv4-and-ipv6-comparison/">nawet 8 lat temu</a>.</p>
<h1 id="ale-mamy-nadal-mnóstwo-czasu-zanim-ipv4-stanie-się-bezużyteczne">Ale mamy nadal mnóstwo czasu zanim IPv4 stanie się bezużyteczne!<a hidden class="anchor" aria-hidden="true" href="#ale-mamy-nadal-mnóstwo-czasu-zanim-ipv4-stanie-się-bezużyteczne">#</a></h1>
<p>Tak i nie.
Wprowadzenie NATów uczyniło IPv4 prawie całkiem bezużytecznym
do dowolnego „zaawansowanego” użycia, to znaczy gdy ktokolwiek
za NATem chciał zrobić cokolwiek poza przeglądaniem stron WWW,
więc i już jest bezużyteczne.</p>
<p>Ale to tylko kwestia czasu, kiedy rynkowa cena dzierżawy adresu IPv4
przekroczy wartość najęcia ziemniaczanego VPSu u typowego dostawcy hostingu.
Klienci hostingów zaczną najmować hosty chmurowe, które same są za NATem,
i przez to tak samo nieosiągalne jak każdy inny niedoszły serwer w sieci konsumenckiej,
co ekonomicznie pchnie ich do użycia IPv6,
tworząc strony dostępne wyłącznie po IPv6.</p>
<p>To zapotrzebowanie na dostęp do IPv6 zacznie pchać tych leniwych
przestarzałych dostawców, by wreszcie przyjęli przyszłość.</p>
<p>Pozwolenie IPv4 i IPv6 współistnieć było jedyną szansą dostawców,
by wprowadzili wsparcie dla IPv6 bez ingerowania w jakikolwiek sposób w IPv4, które już mieli.
Aby pozwolić beznadziejnym, bez końca rozsnącym stosom sztuczek
i oszustw paść wraz z odchodzącym IPv4,
tylko wciąż drożejącym w porównaniu z szybkim, tanim, czystym i oczywistym IPv6.
Zrób staremu dobremu IPv4 przysługę i przyznaj,
że jest już zwyczajnie przestarzałe i nieaktualne;
albo jeszcze lepiej, zapytaj dział sprzedaży swojego dostawcy o IPv6
i że rozważasz rozwiązanie umowy z powodu jego braku.
Razem możemy już teraz tworzyć przyszłość.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="/pl/">Blog Aruskka</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
